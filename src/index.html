<!DOCTYPE html>
<html class="wrapper-html">
<head>
    <title>Email template tester</title>
    <link rel="stylesheet" href="styles/wrapper.css">
    <script src="assets/jquery-3.5.1.min.js"></script> 
</head>
<body class="wrapper-body">
    <div class="nav-wrapper wrapper-col"> 
        <!-- table of contents generated by "gulp toc" -->
        <!-- partial:toc.html -->
        <!-- partial -->
    </div>
    <div class="content wrapper-col">
        <div id="email">
            <!-- partial:templates/_BaseEmailTemplate.html -->
            <!-- partial -->
        </div>
    </div>
    
    <div class="meta wrapper-col">
        <div id="templateTitle"></div>
        <textarea readonly id="templateText"></textarea> 
    </div>


    <script>
        var $templateWrapper = $("#templateContentWrapper");  
        var $templateText = $("#templateText");
        var $templateTitle = $("#templateTitle");

        $(".wrapper-file-link").click(function(evt){
            evt.preventDefault();
            evt.stopPropagation();
            $.ajax({
                url: $(evt.target).attr("href"),
                async: false,
                success: function (data){
                    $templateWrapper.html(data);
                    $templateTitle.text($(evt.target).text());
                    $templateText.val(data);

                    $(".wrapper-file-link.active").removeClass("active");
                    $(evt.target).addClass("active");
                } 
            });
        });

        $templateText.click(function(evt){
            $templateText.select();
            document.execCommand('copy');
            console.log ("Template '" + $templateTitle.text() + "' copied to clipboard")
        });

    </script> 
</body>
</html> 